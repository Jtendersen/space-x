{"ast":null,"code":"import _slicedToArray from \"/Users/juampy/Projects/dept-coding-exercises/space-x-fs-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/juampy/Projects/dept-coding-exercises/space-x-fs-react/src/contexts/AuthContext.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, createContext } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport axios from \"utils/axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var AuthContext = /*#__PURE__*/createContext({});\nexport var AuthProvider = function AuthProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      token = _useState2[0],\n      setToken = _useState2[1];\n\n  var navigate = useNavigate();\n  useEffect(function () {\n    if (token) {\n      axios.defaults.headers.common[\"Authorization\"] = token;\n      localStorage.setItem(\"token\", token);\n      navigate(\"/\");\n    }\n  }, [token, navigate]);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      token: token,\n      setToken: setToken\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(AuthProvider, \"kPvFw9wpoiC6lAwrPyKbGLpXbL0=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AuthProvider;\nexport default AuthProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["useState","useEffect","createContext","useNavigate","axios","AuthContext","AuthProvider","children","token","setToken","navigate","defaults","headers","common","localStorage","setItem"],"sources":["/Users/juampy/Projects/dept-coding-exercises/space-x-fs-react/src/contexts/AuthContext.tsx"],"sourcesContent":["import {\n  useState,\n  useEffect,\n  createContext,\n  SetStateAction,\n  Dispatch,\n  ReactElement,\n} from \"react\";\nimport { useNavigate } from \"react-router\";\nimport axios from \"utils/axios\";\n\ninterface AuthProviderValue {\n  token?: string | null;\n  setToken?: Dispatch<SetStateAction<string | null>>;\n}\n\nexport const AuthContext = createContext<AuthProviderValue>({});\n\nexport const AuthProvider = ({ children }: { children: ReactElement }) => {\n  const [token, setToken] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (token) {\n      axios.defaults.headers.common[\"Authorization\"] = token;\n      localStorage.setItem(\"token\", token);\n      navigate(\"/\");\n    }\n  }, [token, navigate]);\n\n  return (\n    <AuthContext.Provider value={{ token, setToken }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthProvider;\n"],"mappings":";;;;;;AAAA,SACEA,QADF,EAEEC,SAFF,EAGEC,aAHF,QAOO,OAPP;AAQA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,KAAP,MAAkB,aAAlB;;AAOA,OAAO,IAAMC,WAAW,gBAAGH,aAAa,CAAoB,EAApB,CAAjC;AAEP,OAAO,IAAMI,YAAY,GAAG,SAAfA,YAAe,OAA8C;EAAA;;EAAA,IAA3CC,QAA2C,QAA3CA,QAA2C;;EACxE,gBAA0BP,QAAQ,CAAgB,IAAhB,CAAlC;EAAA;EAAA,IAAOQ,KAAP;EAAA,IAAcC,QAAd;;EACA,IAAMC,QAAQ,GAAGP,WAAW,EAA5B;EAEAF,SAAS,CAAC,YAAM;IACd,IAAIO,KAAJ,EAAW;MACTJ,KAAK,CAACO,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDL,KAAjD;MACAM,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BP,KAA9B;MACAE,QAAQ,CAAC,GAAD,CAAR;IACD;EACF,CANQ,EAMN,CAACF,KAAD,EAAQE,QAAR,CANM,CAAT;EAQA,oBACE,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MAAEF,KAAK,EAALA,KAAF;MAASC,QAAQ,EAARA;IAAT,CAA7B;IAAA,UACGF;EADH;IAAA;IAAA;IAAA;EAAA,SADF;AAKD,CAjBM;;GAAMD,Y;UAEMH,W;;;KAFNG,Y;AAmBb,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}