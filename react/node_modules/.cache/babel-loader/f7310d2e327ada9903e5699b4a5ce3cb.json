{"ast":null,"code":"import _regeneratorRuntime from \"/Users/juampy/Projects/dept-coding-exercises/space-x-fs-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/juampy/Projects/dept-coding-exercises/space-x-fs-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/juampy/Projects/dept-coding-exercises/space-x-fs-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/juampy/Projects/dept-coding-exercises/space-x-fs-react/src/containers/LaunchesList/index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useContext, useState } from \"react\";\nimport { ModeContext } from \"contexts/ModeContext\";\nimport { LaunchCard, Search, Pagination, CARDS_PER_PAGE } from \"components\";\nimport { getLaunches } from \"../../api\";\nimport \"./index.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var LaunchesList = function LaunchesList() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      launches = _useState2[0],\n      setLaunches = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredLaunches = _useState4[0],\n      setFilteredLaunches = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchText = _useState6[0],\n      setSearchText = _useState6[1];\n\n  var _useContext = useContext(ModeContext),\n      showAll = _useContext.showAll;\n\n  var _useState7 = useState(1),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentPage = _useState8[0],\n      setCurrentPage = _useState8[1];\n\n  var filterLaunches = function filterLaunches() {\n    setCurrentPage(1); // 3\n\n    return setFilteredLaunches(launches.filter(function (l) {\n      return showAll || l.favorite;\n    }));\n  };\n\n  var loadLaunches = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _launches;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getLaunches();\n\n            case 3:\n              _launches = _context.sent;\n              setLaunches(_launches);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function loadLaunches() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    loadLaunches();\n  }, []);\n  useEffect(filterLaunches, [searchText, showAll, launches]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"launches-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      value: searchText,\n      onChange: setSearchText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"launches-list\",\n      children: filteredLaunches.filter(function (_, i) {\n        return i >= CARDS_PER_PAGE * (currentPage - 1) && i < CARDS_PER_PAGE * currentPage;\n      }).map(function (launch, i) {\n        return /*#__PURE__*/_jsxDEV(LaunchCard, {\n          launch: launch,\n          updateFavorite: function updateFavorite() {}\n        }, launch.flight_number, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Pagination, {\n      value: currentPage,\n      onChange: setCurrentPage,\n      itemsCount: filteredLaunches.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(LaunchesList, \"0EbQddglWfiJDN76niT6C4B4Nig=\");\n\n_c = LaunchesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"LaunchesList\");","map":{"version":3,"names":["useEffect","useContext","useState","ModeContext","LaunchCard","Search","Pagination","CARDS_PER_PAGE","getLaunches","LaunchesList","launches","setLaunches","filteredLaunches","setFilteredLaunches","searchText","setSearchText","showAll","currentPage","setCurrentPage","filterLaunches","filter","l","favorite","loadLaunches","console","log","_","i","map","launch","flight_number","length"],"sources":["/Users/juampy/Projects/dept-coding-exercises/space-x-fs-react/src/containers/LaunchesList/index.tsx"],"sourcesContent":["import { useEffect, useContext, useState } from \"react\";\nimport { ModeContext } from \"contexts/ModeContext\";\nimport { Launch } from \"types\";\nimport { LaunchCard, Search, Pagination, CARDS_PER_PAGE } from \"components\";\nimport { getLaunches } from \"../../api\";\nimport \"./index.scss\";\n\nexport const LaunchesList = () => {\n  const [launches, setLaunches] = useState<Launch[]>([]);\n  const [filteredLaunches, setFilteredLaunches] = useState<Launch[]>([]);\n  const [searchText, setSearchText] = useState<string>(\"\");\n  const { showAll } = useContext(ModeContext);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n\n  const filterLaunches = () => {\n    setCurrentPage(1);\n    // 3\n    return setFilteredLaunches(\n      launches.filter((l: Launch) => showAll || l.favorite)\n    );\n  };\n\n  const loadLaunches = async () => {\n    try {\n      const launches = await getLaunches();\n      setLaunches(launches);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    loadLaunches();\n  }, []);\n\n  useEffect(filterLaunches, [searchText, showAll, launches]);\n\n  return (\n    <div className=\"launches-list-container\">\n      <Search value={searchText} onChange={setSearchText} />\n      <div className=\"launches-list\">\n        {filteredLaunches\n          .filter(\n            (_: Launch, i: number) =>\n              i >= CARDS_PER_PAGE * (currentPage - 1) &&\n              i < CARDS_PER_PAGE * currentPage\n          )\n          .map((launch, i) => (\n            <LaunchCard\n              key={launch.flight_number}\n              launch={launch}\n              updateFavorite={() => {}}\n            />\n          ))}\n      </div>\n      <Pagination\n        value={currentPage}\n        onChange={setCurrentPage}\n        itemsCount={filteredLaunches.length}\n      />\n    </div>\n  );\n};\n"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,EAAoBC,UAApB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,SAASC,WAAT,QAA4B,sBAA5B;AAEA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,UAA7B,EAAyCC,cAAzC,QAA+D,YAA/D;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,OAAO,cAAP;;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;EAAA;;EAChC,gBAAgCP,QAAQ,CAAW,EAAX,CAAxC;EAAA;EAAA,IAAOQ,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAAgDT,QAAQ,CAAW,EAAX,CAAxD;EAAA;EAAA,IAAOU,gBAAP;EAAA,IAAyBC,mBAAzB;;EACA,iBAAoCX,QAAQ,CAAS,EAAT,CAA5C;EAAA;EAAA,IAAOY,UAAP;EAAA,IAAmBC,aAAnB;;EACA,kBAAoBd,UAAU,CAACE,WAAD,CAA9B;EAAA,IAAQa,OAAR,eAAQA,OAAR;;EACA,iBAAsCd,QAAQ,CAAS,CAAT,CAA9C;EAAA;EAAA,IAAOe,WAAP;EAAA,IAAoBC,cAApB;;EAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;IAC3BD,cAAc,CAAC,CAAD,CAAd,CAD2B,CAE3B;;IACA,OAAOL,mBAAmB,CACxBH,QAAQ,CAACU,MAAT,CAAgB,UAACC,CAAD;MAAA,OAAeL,OAAO,IAAIK,CAAC,CAACC,QAA5B;IAAA,CAAhB,CADwB,CAA1B;EAGD,CAND;;EAQA,IAAMC,YAAY;IAAA,sEAAG;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEMf,WAAW,EAFjB;;YAAA;cAEXE,SAFW;cAGjBC,WAAW,CAACD,SAAD,CAAX;cAHiB;cAAA;;YAAA;cAAA;cAAA;cAKjBc,OAAO,CAACC,GAAR;;YALiB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAZF,YAAY;MAAA;IAAA;EAAA,GAAlB;;EASAvB,SAAS,CAAC,YAAM;IACduB,YAAY;EACb,CAFQ,EAEN,EAFM,CAAT;EAIAvB,SAAS,CAACmB,cAAD,EAAiB,CAACL,UAAD,EAAaE,OAAb,EAAsBN,QAAtB,CAAjB,CAAT;EAEA,oBACE;IAAK,SAAS,EAAC,yBAAf;IAAA,wBACE,QAAC,MAAD;MAAQ,KAAK,EAAEI,UAAf;MAA2B,QAAQ,EAAEC;IAArC;MAAA;MAAA;MAAA;IAAA,SADF,eAEE;MAAK,SAAS,EAAC,eAAf;MAAA,UACGH,gBAAgB,CACdQ,MADF,CAEG,UAACM,CAAD,EAAYC,CAAZ;QAAA,OACEA,CAAC,IAAIpB,cAAc,IAAIU,WAAW,GAAG,CAAlB,CAAnB,IACAU,CAAC,GAAGpB,cAAc,GAAGU,WAFvB;MAAA,CAFH,EAMEW,GANF,CAMM,UAACC,MAAD,EAASF,CAAT;QAAA,oBACH,QAAC,UAAD;UAEE,MAAM,EAAEE,MAFV;UAGE,cAAc,EAAE,0BAAM,CAAE;QAH1B,GACOA,MAAM,CAACC,aADd;UAAA;UAAA;UAAA;QAAA,SADG;MAAA,CANN;IADH;MAAA;MAAA;MAAA;IAAA,SAFF,eAiBE,QAAC,UAAD;MACE,KAAK,EAAEb,WADT;MAEE,QAAQ,EAAEC,cAFZ;MAGE,UAAU,EAAEN,gBAAgB,CAACmB;IAH/B;MAAA;MAAA;MAAA;IAAA,SAjBF;EAAA;IAAA;IAAA;IAAA;EAAA,SADF;AAyBD,CAvDM;;GAAMtB,Y;;KAAAA,Y"},"metadata":{},"sourceType":"module"}